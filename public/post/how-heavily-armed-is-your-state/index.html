<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta property="og:title" content="How Heavily Armed Is Your State?">
    
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2016-12-17">
    
    <meta property="og:description" content="">
    <meta property="og:url" content="/post/how-heavily-armed-is-your-state/">
    <meta property="og:site_name" content="Kathryn&#39;s Site">
    
    <meta name="generator" content="Hugo 0.58.2" />
    <title>How Heavily Armed Is Your State? &middot; Kathryn&#39;s Site</title>
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/default.min.css">
    
    <link rel="stylesheet" href="../../css/style.css">
    
    <link href="../../index.xml" rel="alternate" type="application/rss+xml" title="Kathryn&#39;s Site" />
    
    
    <link rel="icon" href="../../coffee_to_go_icon_124542.ico" />
    

    
    
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="../../">Kathryn A Daugherty</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
					<li><a href="../../about">About</a></li>
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="../../">Kathryn A Daugherty</a></h1>
		
		
		
		
		
			<img id="profile-pic" src="//img/kathryn_img.jpg" alt="My Picture" class="img-circle center-block">
		
		<div id="social" class="text-center">
			
				<a href="https://www.linkedin.com/in/kathryn22/"><i class="fa fa-linkedin fa-2x"></i></a>
			
				<a href="https://www.instagram.com/kathryn2ann/"><i class="fa fa-instagram fa-2x"></i></a>
			
				<a href="https://www.facebook.com/kathryn22ann"><i class="fa fa-facebook fa-2x"></i></a>
			
				<a href="https://public.tableau.com/profile/kathryn.khaki.daugherty"><i class="fa fa-laptop fa-2x"></i></a>
			
				<a href="https://github.com/kathryn2"><i class="fa fa-github fa-2x"></i></a>
			

			<a href="mailto:kadplaystennis@gmail.com"><i class="fa fa-envelope-o fa-2x"></i></a>
		</div>
		<div id="links" class="text-center">
			
			
				<a href="../../about">About</a>
			
		</div>
	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-8">

<main>
	<header>
		<h1>How Heavily Armed Is Your State?</h1>
	</header>

	<article>
		


<p>We will answer this question using R. First, load the dataset. It contains state names, census regions, census divisions, 2013 populations and the number of registered gun owners (also in 2013). This data comes to us from <a href="http://www.cbsnews.com/pictures/most-heavily-armed-states-in-america/">CBS News</a>.</p>
<pre><code># Set working directory
setwd(&quot;~/Desktop&quot;)

# Load dataset
library(readxl)
Firearms_Data_KAD &lt;- read_excel(&quot;~/Desktop/R/Per Capita Firearms Registered/Firearms_Data_KAD.xlsx&quot;)

View(Firearms_Data_KAD)</code></pre>
<p><img src="../../post/2016-12-17-how-heavily-armed-is-your-state_files/Firearms_Data_KAD.png"></p>
<p>Next, let’s load all of the packages we’ll use for data transformations and visualizations.</p>
<pre><code># Load needed packages
library(ggplot2)
library(RColorBrewer)
library(lattice)
library(ggthemes)
library(maps)
library(dplyr)
library(sqldf)
library(choroplethr)</code></pre>
<p>Let’s do some basic analysis and create a preliminary boxplot.</p>
<pre><code># Add percentage value
Firearms_Data_KAD$Pct &lt;- Firearms_Data_KAD$`2013RegisteredOwners`/Firearms_Data_KAD$`2013Pop`

# Add value for ordering bar charts
Firearms_Data_KAD$Order &lt;- 1-Firearms_Data_KAD$Pct

# Box and whisker plot using Lattice
boxplot &lt;- bwplot(Pct ~ Division, data=Firearms_Data_KAD,
                  xlab=&quot;US Census Regional Divisions&quot;,
                  ylab=&quot;PerCapita Registered Gun Owners&quot;,
                  main=&quot;How Heavily Armed is Your Division? (2013)&quot;)
boxplot</code></pre>
<p><img src="../../post/2016-12-17-how-heavily-armed-is-your-state_files/Rplot.png"></p>
<p>Next, let’s use ggplot2 and a Wall Street Journal Theme to make this easier on the eyes.</p>
<pre><code># Box and whisker plot using ggplot2
boxplot2 &lt;- ggplot(Firearms_Data_KAD, aes(Division, Pct)) +
  geom_boxplot() + ylab(&quot;PerCapita Registered Gun Owners&quot;) +
  xlab(&quot;US Census Regional Divisions&quot;) + 
  labs(title=&quot;Division Owners&quot;)
boxplot2

boxplot2 + coord_flip() + theme_wsj()</code></pre>
<div class="figure">
<img src="../../post/2016-12-17-how-heavily-armed-is-your-state_files/WSJ.png" />

</div>
<p>Now let’s step back a level of detail and see if there are similarities in Census Regions.</p>
<pre><code>boxplot3 &lt;- ggplot(Firearms_Data_KAD, aes(CensusRegion, Pct)) +
  geom_boxplot() + ylab(&quot;PerCapita Registered Gun Owners&quot;) +
  xlab(&quot;US Census Regions&quot;) + 
  labs(title=&quot;Regions&quot;)
boxplot3

boxplot3 + coord_flip() + theme_wsj()</code></pre>
<div class="figure">
<img src="../../post/2016-12-17-how-heavily-armed-is-your-state_files/Regions.png" />

</div>
<p>Next, let’s dive into state-level detail to see the outliers.</p>
<pre><code># Bar plot by state

# Order states
# states &lt;- c(&quot;Wyoming&quot;, &quot;District of Columbia&quot;, &quot;Arkansas&quot;, &quot;New Mexico&quot;, &quot;Virginia&quot;, &quot;Idaho&quot;, &quot;Alabama&quot;, &quot;Nevada&quot;, &quot;Alaska&quot;, &quot;Louisiana&quot;, &quot;Pennsylvania&quot;, &quot;Maryland&quot;, &quot;New Hampshire&quot;, &quot;Georgia&quot;, &quot;Indiana&quot;, &quot;Kentucky&quot;, &quot;Utah&quot;, &quot;Texas&quot;, &quot;Oklahoma&quot;, &quot;Colorado&quot;, &quot;South Carolina&quot;, &quot;South Dakota&quot;, &quot;Ohio&quot;, &quot;Oregon&quot;, &quot;Connecticut&quot;, &quot;Montana&quot;, &quot;Tennessee&quot;, &quot;North Carolina&quot;, &quot;Kansas&quot;, &quot;Florida&quot;, &quot;Minnesota&quot;, &quot;North Dakota&quot;, &quot;Arizona&quot;, &quot;West Virginia&quot;, &quot;Illinois&quot;, &quot;Maine&quot;, &quot;Washington&quot;, &quot;Missouri&quot;, &quot;Wisconsin&quot;, &quot;California&quot;, &quot;Nebraska&quot;, &quot;Mississippi&quot;, &quot;Vermont&quot;, &quot;Iowa&quot;, &quot;New Jersey&quot;, &quot;Hawaii&quot;, &quot;Massachusetts&quot;, &quot;Michigan&quot;, &quot;Delaware&quot;, &quot;Rhode Island&quot;, &quot;New York&quot;)
Firearms_Data_KAD$StateName &lt;- factor(Firearms_Data_KAD$StateName, 
                                      levels = Firearms_Data_KAD$StateName[order(Firearms_Data_KAD$Pct)])
Firearms_Data_KAD$StateName

# Bar plot by state
barplot &lt;- qplot(StateName, data=Firearms_Data_KAD, geom=&quot;bar&quot;,
            weight=Pct, ylab=&quot;PerCapita Registered Gun Owners&quot;) 
barplot &lt;- barplot + theme(axis.text.x = element_text(angle=90, hjust=1))
barplot

barplot + theme_wsj() + coord_flip()</code></pre>
<div class="figure">
<img src="../../post/2016-12-17-how-heavily-armed-is-your-state_files/state_bars.png" />

</div>
<p>What does this look like on a map? Do we see any regional trends?</p>
<pre><code>Firearms_Data_KAD$region &lt;- Firearms_Data_KAD$StateLower
  
Firearms_Data_KAD$value &lt;- Firearms_Data_KAD$Pct

map &lt;- state_choropleth(
      Firearms_Data_KAD,
      legend = &quot;Pct&quot;,
      title = &quot;PerCapita Registered Gun Owners (2013)&quot;,
      num_colors = 1,
      zoom = NULL)

map &lt;- map + theme_map()
map</code></pre>
<div class="figure">
<img src="../../post/2016-12-17-how-heavily-armed-is-your-state_files/map1.png" />

</div>
<p>Rather than looking at distributions or state-specific data, what is the average gun ownership rate for each region?</p>
<pre><code># Average by Region

regiondata &lt;- sqldf(&quot;select distinct Division, sum(`2013Pop`) as Pop, sum(`2013RegisteredOwners`) as Owners  from Firearms_Data_KAD group by Division&quot;)
head(regiondata)
regiondata$Pct &lt;- regiondata$Owners/regiondata$Pop
head(regiondata)

regiondata$Division &lt;- factor(regiondata$Division, 
                                      levels = regiondata$Division[order(regiondata$Pct)])
print(regiondata)


barplot2 &lt;- qplot(Division, data=regiondata, geom=&quot;bar&quot;,
                  weight=Pct, ylab=&quot;PerCapita Registered Gun Owners&quot;)
barplot2 &lt;- barplot2 + theme_wsj() + coord_flip()
barplot2</code></pre>
<div class="figure">
<img src="../../post/2016-12-17-how-heavily-armed-is-your-state_files/regional.png" />

</div>
In summation, we find the following:
<li>
Wyoming has, by far, the highest percentage of residents who are registered gun owners
<li>
New York state has the lowest rate of gun ownership
<li>
In general, Western and Mountain states have the highest rate of registered gun ownership
<li>
<p>However, don’t forget that the District of Columbia is #2</p>

	</article>
</main>

<div id="bottom-nav" class="text-center center-block">
	<a href=" /" class="btn btn-default"><i class="fa fa-home"></i> Home</a>
</div>



						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'code-here', 'auto');
    ga('send', 'pageview');
    window.baseURL = "\/";
  </script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
  
  <script src="//js/App.js"></script>
  
</body>
</html>
